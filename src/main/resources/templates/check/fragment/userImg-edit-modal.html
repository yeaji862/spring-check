<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      th:fragment="User-img-edit">


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div style="text-align: center;">
          <div id="image_container">
            <img th:src="@{/img/profile.png}" id="beforeImg" class="modal-img">
          </div>
          <label for="file">
            <p class="edit-p">편집</p>
          </label>
          <input name="userImg" type="file" id="file" onchange="setThumbnail(event);" accept="image/*" style="display: none;"/> <br>
          <button class="btn btn-secondary" onclick="resizeAndSubmit()">&nbsp;이미지 수정&nbsp;</button>
            <canvas id="resizedCanvas" style="display: none;"></canvas>
          <script>
                    function setThumbnail(event) {
                        var reader = new FileReader();

                        reader.onload = function(event) {
                            var imgElement = document.getElementById("beforeImg");
                            var newImageSrc = event.target.result;
                            imgElement.src = newImageSrc;
                        };

                        reader.readAsDataURL(event.target.files[0]);
                    }
                </script>
          <script type="text/javascript" src="/js/submit.js" ></script>
        </div>
      </div>
    </div>
  </div>

</div>
</html>